"use strict";(self["webpackChunkdakotatrophyadventures"]=self["webpackChunkdakotatrophyadventures"]||[]).push([[675],{1675:function(e,t,s){s.r(t),s.d(t,{default:function(){return v}});var r=s(3740),i=s(6930),a=s(5420),n=s(1554),o=s(2756),l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"slideshow-page fullscreen-mode"},[t("div",{staticClass:"slideshow-controls",class:{hidden:e.controlsHidden&&!e.isPaused}},[t(r.A,{staticClass:"back-btn",attrs:{icon:""},on:{click:e.goBack}},[t(i.A,[e._v("mdi-arrow-left")])],1),t("div",{staticClass:"controls-info"},["single"===e.mode?t("span",{staticClass:"image-counter"},[e._v(e._s(e.currentIndex+1)+" / "+e._s(e.images.length))]):t("span",{staticClass:"image-counter"},[e._v("Page "+e._s(e.currentPage)+" / "+e._s(e.totalPages))]),t("span",{staticClass:"timer-indicator"},[t(i.A,{attrs:{small:""}},[e._v("mdi-timer-outline")]),e._v(" "+e._s(e.timer)+"s ")],1)]),t("div",{staticClass:"controls-actions"},[t(r.A,{attrs:{icon:""},on:{click:e.togglePause}},[t(i.A,[e._v(e._s(e.isPaused?"mdi-play":"mdi-pause"))])],1),t(r.A,{attrs:{icon:""},on:{click:e.toggleFullscreen}},[t(i.A,[e._v(e._s(e.isFullscreen?"mdi-fullscreen-exit":"mdi-fullscreen"))])],1)],1)],1),"single"===e.mode?t("div",{staticClass:"single-view",on:{click:e.toggleControls}},[t("transition",{attrs:{name:"fade",mode:"out-in"}},[t("div",{key:e.currentIndex,staticClass:"image-wrapper"},[t(a.A,{staticClass:"slideshow-image",attrs:{src:e.currentImage.url,alt:"Hunting photo from "+e.currentImage.year,contain:""},scopedSlots:e._u([{key:"placeholder",fn:function(){return[t(o.A,{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[t(n.A,{attrs:{indeterminate:"",color:"white",size:"64"}})],1)]},proxy:!0}],null,!1,1922353425)}),t("div",{staticClass:"year-badge"},[e._v(e._s(e.currentImage.year))])],1)]),t(r.A,{staticClass:"nav-arrow nav-prev",attrs:{icon:"","x-large":""},on:{click:function(t){return t.stopPropagation(),e.prevPage.apply(null,arguments)}}},[t(i.A,{attrs:{"x-large":""}},[e._v("mdi-chevron-left")])],1),t(r.A,{staticClass:"nav-arrow nav-next",attrs:{icon:"","x-large":""},on:{click:function(t){return t.stopPropagation(),e.nextPage.apply(null,arguments)}}},[t(i.A,{attrs:{"x-large":""}},[e._v("mdi-chevron-right")])],1),e.isPaused?e._e():t("div",{staticClass:"progress-bar"},[t("div",{staticClass:"progress-fill",style:{width:e.progressPercent+"%"}})])],1):t("div",{staticClass:"grid-view",on:{click:e.toggleControls}},[t("transition",{attrs:{name:"fade",mode:"out-in"}},[t("div",{key:e.currentPage,staticClass:"grid-container",style:e.gridStyle},e._l(e.currentGridImages,function(s){return t("div",{key:s.imageId,staticClass:"grid-item"},[t(a.A,{staticClass:"grid-image",attrs:{src:s.url,alt:"Hunting photo from "+s.year,"aspect-ratio":"1"},scopedSlots:e._u([{key:"placeholder",fn:function(){return[t(o.A,{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[t(n.A,{attrs:{indeterminate:"",color:"white",size:"32"}})],1)]},proxy:!0}],null,!0)},[t("div",{staticClass:"grid-year-badge"},[e._v(e._s(s.year))])])],1)}),0)]),t(r.A,{staticClass:"nav-arrow nav-prev",attrs:{icon:"","x-large":""},on:{click:function(t){return t.stopPropagation(),e.prevPage.apply(null,arguments)}}},[t(i.A,{attrs:{"x-large":""}},[e._v("mdi-chevron-left")])],1),t(r.A,{staticClass:"nav-arrow nav-next",attrs:{icon:"","x-large":""},on:{click:function(t){return t.stopPropagation(),e.nextPage.apply(null,arguments)}}},[t(i.A,{attrs:{"x-large":""}},[e._v("mdi-chevron-right")])],1),e.isPaused?e._e():t("div",{staticClass:"progress-bar"},[t("div",{staticClass:"progress-fill",style:{width:e.progressPercent+"%"}})])],1),0===e.images.length?t("div",{staticClass:"no-images"},[t(i.A,{attrs:{"x-large":"",color:"grey"}},[e._v("mdi-image-off")]),t("h2",[e._v("No Images Found")]),t("p",[e._v("No images match your selected criteria.")]),t(r.A,{attrs:{outlined:""},on:{click:e.goBack}},[t(i.A,{attrs:{left:""}},[e._v("mdi-arrow-left")]),e._v(" Back to Builder ")],1)],1):e._e()])},c=[],h=(s(4114),s(8111),s(2489),s(1701),s(4603),s(7566),s(8721),s(2572));const d={4:{cols:2,rows:2},6:{cols:3,rows:2},9:{cols:3,rows:3},12:{cols:4,rows:3},16:{cols:4,rows:4}};var g={name:"Slideshow",data(){return{images:[],currentIndex:0,timer:10,mode:"single",gridSize:9,isPaused:!1,isFullscreen:!1,controlsHidden:!1,controlsTimeout:null,slideInterval:null,progressPercent:0,progressInterval:null}},computed:{currentImage(){return 0===this.images.length?{url:"",year:""}:this.images[this.currentIndex]},gridConfig(){return d[this.gridSize]||d[9]},gridStyle(){return{gridTemplateColumns:`repeat(${this.gridConfig.cols}, 1fr)`,gridTemplateRows:`repeat(${this.gridConfig.rows}, 1fr)`}},currentPage(){return"single"===this.mode?this.currentIndex+1:Math.floor(this.currentIndex/this.gridSize)+1},totalPages(){return"single"===this.mode?this.images.length:Math.ceil(this.images.length/this.gridSize)},currentGridImages(){const e=(this.currentPage-1)*this.gridSize;return this.images.slice(e,e+this.gridSize)}},mounted(){this.parseQueryParams(),this.filterImages(),this.setupKeyboardListeners(),this.images.length>0&&(this.startSlideshow(),this.startHideControlsTimer())},beforeDestroy(){this.stopSlideshow(),this.removeKeyboardListeners(),this.controlsTimeout&&clearTimeout(this.controlsTimeout),document.fullscreenElement&&document.exitFullscreen()},methods:{parseQueryParams(){const e=new URLSearchParams(window.location.search);this.timer=parseInt(e.get("timer"))||10,this.mode=e.get("mode")||"single";const t=parseInt(e.get("gridSize"));t&&d[t]&&(this.gridSize=t)},extractYear(e){const t=e.match(/\/(\d{4})\//);return t?t[1]:"Unknown"},filterImages(){const e=new URLSearchParams(window.location.search),t=e.get("years")||"",s=e.get("species")||"",r=t.split(",").map(e=>parseInt(e)).filter(e=>!isNaN(e)),i=s.split(",").map(e=>parseInt(e)).filter(e=>!isNaN(e));this.images=h.S.filter(e=>{const t=parseInt(this.extractYear(e.url)),s=0===r.length||r.includes(t),a=0===i.length||i.includes(e.imageGalleryId);return s&&a}).map(e=>({...e,year:this.extractYear(e.url)})),this.shuffleImages()},shuffleImages(){for(let e=this.images.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[this.images[e],this.images[t]]=[this.images[t],this.images[e]]}},startSlideshow(){this.stopSlideshow(),this.progressPercent=0;const e=100/(10*this.timer);this.progressInterval=setInterval(()=>{this.isPaused||(this.progressPercent+=e,this.progressPercent>=100&&(this.progressPercent=0,this.nextPage()))},100)},stopSlideshow(){this.slideInterval&&(clearInterval(this.slideInterval),this.slideInterval=null),this.progressInterval&&(clearInterval(this.progressInterval),this.progressInterval=null)},nextPage(){if("single"===this.mode)this.currentIndex=(this.currentIndex+1)%this.images.length;else{const e=this.currentIndex+this.gridSize;e>=this.images.length?this.currentIndex=0:this.currentIndex=e}this.progressPercent=0},prevPage(){if("single"===this.mode)this.currentIndex=(this.currentIndex-1+this.images.length)%this.images.length;else{const e=this.currentIndex-this.gridSize;if(e<0){const e=(this.totalPages-1)*this.gridSize;this.currentIndex=e}else this.currentIndex=e}this.progressPercent=0},togglePause(){this.isPaused=!this.isPaused,this.showControls()},toggleFullscreen(){document.fullscreenElement?(document.exitFullscreen(),this.isFullscreen=!1):(document.documentElement.requestFullscreen(),this.isFullscreen=!0),this.showControls()},toggleControls(){this.controlsHidden=!this.controlsHidden,this.controlsHidden||this.startHideControlsTimer()},showControls(){this.controlsHidden=!1,this.startHideControlsTimer()},startHideControlsTimer(){this.controlsTimeout&&clearTimeout(this.controlsTimeout),this.controlsTimeout=setTimeout(()=>{this.isPaused||(this.controlsHidden=!0)},3e3)},setupKeyboardListeners(){window.addEventListener("keydown",this.handleKeydown)},removeKeyboardListeners(){window.removeEventListener("keydown",this.handleKeydown)},handleKeydown(e){switch(e.key){case"ArrowRight":case" ":e.preventDefault(),this.nextPage(),this.showControls();break;case"ArrowLeft":e.preventDefault(),this.prevPage(),this.showControls();break;case"Escape":e.preventDefault(),this.goBack();break;case"p":case"P":this.togglePause();break;case"f":case"F":this.toggleFullscreen();break}},goBack(){this.$router.push("/SlideshowBuilder")}}},u=g,m=s(1656),p=(0,m.A)(u,l,c,!1,null,"95f4aee0",null),v=p.exports},2812:function(e){var t=TypeError;e.exports=function(e,s){if(e<s)throw new t("Not enough arguments");return e}},4603:function(e,t,s){var r=s(6840),i=s(9504),a=s(655),n=s(2812),o=URLSearchParams,l=o.prototype,c=i(l.append),h=i(l["delete"]),d=i(l.forEach),g=i([].push),u=new o("a=1&a=2&b=3");u["delete"]("a",1),u["delete"]("b",void 0),u+""!=="a=2"&&r(l,"delete",function(e){var t=arguments.length,s=t<2?void 0:arguments[1];if(t&&void 0===s)return h(this,e);var r=[];d(this,function(e,t){g(r,{key:t,value:e})}),n(t,1);var i,o=a(e),l=a(s),u=0,m=0,p=!1,v=r.length;while(u<v)i=r[u++],p||i.key===o?(p=!0,h(this,i.key)):m++;while(m<v)i=r[m++],i.key===o&&i.value===l||c(this,i.key,i.value)},{enumerable:!0,unsafe:!0})},7566:function(e,t,s){var r=s(6840),i=s(9504),a=s(655),n=s(2812),o=URLSearchParams,l=o.prototype,c=i(l.getAll),h=i(l.has),d=new o("a=1");!d.has("a",2)&&d.has("a",void 0)||r(l,"has",function(e){var t=arguments.length,s=t<2?void 0:arguments[1];if(t&&void 0===s)return h(this,e);var r=c(this,e);n(t,1);var i=a(s),o=0;while(o<r.length)if(r[o++]===i)return!0;return!1},{enumerable:!0,unsafe:!0})},8721:function(e,t,s){var r=s(3724),i=s(9504),a=s(2106),n=URLSearchParams.prototype,o=i(n.forEach);r&&!("size"in n)&&a(n,"size",{get:function(){var e=0;return o(this,function(){e++}),e},configurable:!0,enumerable:!0})}}]);
//# sourceMappingURL=675.0fe8cc16.js.map